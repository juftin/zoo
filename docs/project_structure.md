# Project Structure

This project is structured as a Python package. The tree structure is as
follows (with some files omitted for brevity):

```shell
├── Dockerfile  # (1)!
├── alembic.ini  # (2)!
├── docker-compose.yaml  # (3)!
├── migrations  # (4)!
│   ├── env.py  # (5)!
│   ├── script.py.mako  # (6)!
│   └── versions  # (7)!
│       └── 2023_08_20_1729-e5fccc3522ce_initial_migration.py  # (8)!
├── pyproject.toml  # (9)!
├── requirements.txt  # (10)!
├── tests  # (11)!
│   ├── api # (12)!
│   │   └── test_animals_api.py # (13)!
│   └── conftest.py # (14)!
└── zoo # (15)!
    ├── __init__.py # (16)!
    ├── __main__.py # (17)!
    ├── _version.py # (18)!
    ├── api # (19)!
    │   ├── __init__.py # (20)!
    │   └── animals.py # (21)!
    ├── app.py # (22)!
    ├── config.py # (23)!
    ├── db.py # (24)!
    ├── models # (25)!
    │   ├── __init__.py # (26)!
    │   └── animals.py # (27)!
    └── schemas # (28)!
        ├── __init__.py # (29)!
        └── animals.py # (30)!
```

1. :ship: Dockerfile for building the Docker image.
2. :gear: Alembic configuration file for managing database migrations.
3. :whale: Docker Compose configuration file for running the application.
4. :snake: Directory for managing database migrations.
5. :snake: Configuration file for Alembic migrations to interface with the application
   database.
6. :page_facing_up: Template file for Alembic migrations.
7. :snake: Directory for Alembic migration scripts.
8. :snake: Initial migration script generated by Alembic. This is an example of what
   a migration script looks like - containing an `upgrade` and `downgrade`
   function.
9. :gear: Configuration file for Python Package and Tooling.
10. :gear: Python dependencies for the application. This file is created and managed
    using [pip-tools](https://pip-tools.readthedocs.io/en/latest/).
11. :test_tube: Directory for unit tests.
12. :test_tube: Directory for API unit tests.
13. :test_tube: Unit tests for the API endpoints.
14. :test_tube: Configuration file for pytest. This contains fixtures that are used by the
    unit tests. This includes a special `client` fixture that is used to
    perform requests against the application with an ephemeral migrated database.
15. :snake: Directory for the application source code.
16. :snake: Empty file to make the `zoo` directory a Python package.
17. :snake: Command-line entrypoint for the application, built with
    [click](https://click.palletsprojects.com/). This is
    used to run the application using `python -m zoo`.
18. :snake: Version file for the application. This is used by hatch to
    set the version of the application.
19. :snake: Directory for the API endpoints.
20. :snake: Empty file to make the `api` directory a Python package.
21. :snake: The `api` module contains the API endpoints for the application. This
    includes the `animals` module, which contains the endpoints for the
    `/animals` API. These `api` modules contain the relevant FastAPI
    endpoints, as well as any supporting functions.
22. :snake: The `app` module contains the FastAPI application instance. This is
    where the FastAPI application is created, and where the application
    dependencies are configured.
23. :snake: The `config` module contains the application configuration. This
    includes the `Settings` class, which is used to configure the
    application using environment variables.
24. :snake: The `db` module contains the database configuration. This includes
    the `SessionLocal` class, which is used to create a SQLAlchemy
    session for the application.
25. :snake: Directory for the SQLAlchemy models.
26. :snake: Empty file to make the `models` directory a Python package.
27. :snake: The `models` module contains the SQLAlchemy models for the application.
28. :snake: The `schemas` module contains the Pydantic schemas for the application.
    These schemas are used to validate the request and response data for the
    API endpoints.
29. :snake: Empty file to make the `schemas` directory a Python package.
30. :snake: Pydantic schemas for the application.

## Project Files

??? abstract ":ship: Dockerfile"
    Dockerfile for building the Docker image.
    ```dockerfile
    --8<-- "Dockerfile"
    ```

??? abstract ":gear: alembic.ini"
    Configuration file for Alembic project.
    ```ini
    --8<-- "alembic.ini"
    ```

??? abstract ":whale: docker-compose.yaml"
    Docker Compose configuration file for running the application.
    ```yaml
    --8<-- "docker-compose.yaml"
    ```

??? abstract ":snake: migrations/env.py"
    Configuration file for Alembic migrations to interface with the application
    database.
    ```python
    --8<-- "migrations/env.py"
    ```

??? abstract ":page_facing_up: migrations/script.py.mako"
    Template file for Alembic migrations.
    ```python
    --8<-- "migrations/script.py.mako"
    ```

??? abstract ":snake: migrations/versions/2023_08_20_1729-e5fccc3522ce_initial_migration.py"
    Initial migration script generated by Alembic. This is an example of what
    a migration script looks like - containing an `upgrade` and `downgrade`
    function.
    ```python
    --8<-- "migrations/versions/2023_08_20_1729-e5fccc3522ce_initial_migration.py"
    ```

??? abstract ":gear: pyproject.toml"
    Configuration file for Python Package and Tooling.
    ```toml
    --8<-- "pyproject.toml"
    ```

??? abstract ":gear: requirements.txt"
    Python dependencies for the application. This file is created and managed
    using [pip-tools](https://pip-tools.readthedocs.io/en/latest/).
    ```requirements.txt
    --8<-- "requirements.txt"
    ```

??? abstract ":test_tube: tests/api/test_animals_api.py"
    Unit tests for the API endpoints.
    ```python
    --8<-- "tests/api/test_animals_api.py"
    ```

??? abstract ":test_tube: tests/conftest.py"
    Configuration file for pytest. This contains fixtures that are used by the
    unit tests. This includes a special `client` fixture that is used to
    perform requests against the application with an ephemeral migrated database.
    ```python
    --8<-- "tests/conftest.py"
    ```

??? abstract ":snake: zoo/**main**.py"
    Command-line entrypoint for the application, built with
    [click](https://click.palletsprojects.com/). This is
    used to run the application using `python -m zoo`.
    ```python
    --8<-- "zoo/__main__.py"
    ```

??? abstract ":snake: zoo/_version.py"
    Version file for the application. This is used by hatch to
    set the version of the application.
    ```python
    --8<-- "zoo/_version.py"
    ```

??? abstract ":snake: zoo/api/animals.py"
    The `api` module contains the API endpoints for the application. This
    includes the `animals` module, which contains the endpoints for the
    `/animals` API. These `api` modules contain the relevant FastAPI
    endpoints, as well as any supporting functions.
    ```python
    --8<-- "zoo/api/animals.py"
    ```

??? abstract ":snake: zoo/app.py"
    The `app` module contains the FastAPI application instance. This is
    where the FastAPI application is created, and where the application
    dependencies are configured.
    ```python
    --8<-- "zoo/app.py"
    ```

??? abstract ":snake: zoo/config.py"
    The `config` module contains the application configuration. This
    includes the `Settings` class, which is used to configure the
    application using environment variables.
    ```python
    --8<-- "zoo/config.py"
    ```

??? abstract ":snake: zoo/db.py"
    The `db` module contains the database configuration. This includes
    the `SessionLocal` class, which is used to create a SQLAlchemy
    session for the application.
    ```python
    --8<-- "zoo/db.py"
    ```

??? abstract ":snake: zoo/models/animals.py"
    The `models` module contains the SQLAlchemy models for the application.
    ```python
    --8<-- "zoo/models/animals.py"
    ```

??? abstract ":snake: zoo/schemas/animals.py"
    The `schemas` module contains the Pydantic schemas for the application.
    These schemas are used to validate the request and response data for the
    API endpoints.
    ```python
    --8<-- "zoo/schemas/animals.py"
    ```
